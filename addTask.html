<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/style.css">
    <link rel="stylesheet" href="/css/header.css">
    <link rel="stylesheet" href="/css/sidebar.css">
    <link rel="stylesheet" href="/css/addTask.css">
    <title>Join - Add Task</title>
</head>

<body onload="addTaskInit()">
    <header>
        <div w3-include-html="\templates\header-template.html"></div>
    </header>
    <aside>
        <div w3-include-html="\templates\sidebar-template.html"></div>
    </aside>

    <main>
        <div class="info-container d-none" id="info-container" w3-include-html="\templates\info-template.html"></div>
        <form onsubmit="requiredAddTask(); return false;" class="addTaskContent" id="addTaskContent">
            <div class="addTaskSection" id="addTaskSection">
                <div class="section1">
                    <div class="titleContainer">
                        <div class="enterTitle">
                            <input id="taskTitle" type="text" placeholder="Enter a title">
                        </div>
                        <div id="requiredTitle" class="required v-none">Please enter a title!</div>
                    </div>

                    <div class="descriptionContainer">
                        <div class="descriptionContent">
                            <span>Description</span>
                            <textarea name="descriptionTextarea" placeholder="Enter a description" id="description"
                                cols="30" rows="10"></textarea>
                        </div>
                        <div id="requiredDescription" class="required v-none">Please enter a description!</div>
                    </div>

                    <div class="dueDateContainer">
                        <div class="dueDate">
                            <span>Due date</span>
                            <div class="dateContainer" onclick="openCalendar()">
                                <input class="inputGrey" type="date" format="dd/mm/yyyy" placeholder="dd/mm/yyyy"
                                    id="datepicker" onfocus="openCalendar();this.showPicker();"
                                    autocomplete="off"></input>
                                <img src="/assets/img/board/calendar.png">
                            </div>
                        </div>
                        <div id="requiredDate" class="required v-none">Please enter a date!</div>
                    </div>
                </div>


                <div class="priorityClass">
                    <div class="prioritySection">
                        <span>Priority</span>
                        <div id="showPriorities" class="priorityContainer">
                            <img onmouseover="priorityMouseHover('red')"
                                onmouseleave="priorityMouseLeave('priorityUrgent')"
                                onclick="renderPrioritySelected('Urgent')" class="priority priorityUrgent"
                                id="priorityUrgent" src="/assets/img/addTask/TaskValueHard.png">
                            <img onmouseover="priorityMouseHover('orange')"
                                onmouseleave="priorityMouseLeave('priorityMedium')"
                                onclick="renderPrioritySelected('Medium')" class="priority priorityMedium"
                                id="priorityMedium" src="/assets/img/addTask/TaskValueMid.png">
                            <img onmouseover="priorityMouseHover('green')"
                                onmouseleave="priorityMouseLeave('priorityLow')" onclick="renderPrioritySelected('Low')"
                                class="priority priorityLow" id="priorityLow"
                                src="/assets/img/addTask/TaskValueLow.png">
                        </div>
                        <div id="requiredPriority" class="required v-none">Please select an urgency!</div>
                    </div>
                </div>

                <div class="assignedTo">
                    <div class="assignedToContainer">
                        <span>Assigne to</span>
                        <div id="showInviteNewContact" class="selectContacts d-none">
                            <input id="inviteNewContact" type="text" placeholder="Contact email"
                                style="font-size: 19px;">
                            <img onclick="toggleInviteNewContact()" src="/assets/img/functionButtons/cancelBlue.png">
                            <img style="padding-left: 8px; padding-right: 8px;"
                                src="/assets/img/functionButtons/trennstrich.png">
                            <img onclick="addNewInviteContact()"
                                src="/assets/img/functionButtons/checkedIconSelector.png">
                        </div>

                        <div class="selectContacts" id="selectContacts" onclick="renderContactsToAssign()">
                            <span>Select contacts to assign</span>
                            <img src="../../assets/img/functionButtons/selectorArrow.png">
                        </div>

                        <div class="dropDownContainer">
                                <div style="max-height: 204px; overflow: auto;" id="contactsToAssign">
                                </div>
                        </div>
                        <div id="requiredAssignedTo" class="required v-none">Please select a contact!</div>
                    </div>
                </div>

                <div class="category">
                    <div class="categoryContainer">
                        <span>Category</span>
                        <div id="showCategory" class="selectCategory" onclick="renderCategories()">
                            <div id="currentCategory"><span>Select task category</span></div>
                            <img src="/assets/img/functionButtons/selectorArrow.png">
                        </div>
                        <div id="showNewCategory" class="selectCategory d-none">
                            <input id="addNewCategory" type="text" placeholder="New category name"
                                style="font-size: 19px;" onblur="addNewCategoryName()">
                            <img onclick="hideNewCategory()" src="/assets/img/functionButtons/cancelBlue.png">
                            <img style="padding-left: 8px; padding-right: 8px;"
                                src="/assets/img/functionButtons/trennstrich.png">
                            <img onclick="addNewCategoryFunction()"
                                src="/assets/img/functionButtons/checkedIconSelector.png">
                        </div>
                        <div class="dropDownContainer">
                            <div>
                                <div id="colorCircle" class="circle-content d-none">
                                    <div id="lightblue" onclick="addCategoryColor('lightblue')" class="colorCircle"
                                        style="background: #8AA4FF;"></div>
                                    <div id="red" onclick="addCategoryColor('red')" class="colorCircle"
                                        style="background: #FF0000;"></div>
                                    <div id="green" onclick="addCategoryColor('green')" class="colorCircle"
                                        style="background: #2AD300;"></div>
                                    <div id="orange" onclick="addCategoryColor('orange')" class="colorCircle"
                                        style="background: #FF8A00;"></div>
                                    <div id="pink" onclick="addCategoryColor('pink')" class="colorCircle"
                                        style="background: #E200BE;"></div>
                                    <div id="blue" onclick="addCategoryColor('blue')" class="colorCircle"
                                        style="background: #0038FF;"></div>
                                </div>
                                <div style="max-height: 204px; overflow: auto;" id="selectTaskCategory">
                                </div>
                            </div>
                        </div>
                        <div id="requiredCategory" class="required v-none"><span>Please select a category or add a new one!</span>
                        </div>
                    </div>
                </div>

                <div class="subtaskContainer">
                    <span>Subtasks</span>

                    <div id="subtask" class="addSubtask">
                        <input id="subtaskInput" onclick="subtaskActiveInput()" type="text"
                            placeholder="Add new subtask">
                        <div id="subtaskButtons" style="display: flex; align-items: center;">
                            <img src="/assets/img/functionButtons/add.png">
                        </div>
                    </div>
                    <div id="addedSubtasks" class="subtaskContent"></div>
                </div>

            </div>
            </div>
            <div class="btn-container">
                <div onclick="resetAllFields()" onmouseover="clearBtnOnHover()" onmouseleave="clearBtnLeaveHover()" class="btn-white">
                    <span>Clear</span><img id="clearBtn" src="/assets/img/functionButtons/icon_cancel.png">
                </div>
                <button class="btn-blue">Creat Task <img
                        src="/assets/img/functionButtons/akar-icons_check.png"></button>
            </div>
        </form>
    </main>

    <script src="/js/storage.js"></script>
    <script src="/js/main.js"></script>
    <script src="/js/addTask.js"></script>
    <script src="js/addTaskTemplate.js"></script>
    
</body>

</html>